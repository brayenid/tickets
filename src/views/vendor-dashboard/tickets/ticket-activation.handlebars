<main class="p-4">
  {{> breadcrumbs}}
  <div class="space-y-3">
    <div class="w-full bg-white shadow-sm p-6 mb-4 rounded-lg">
      <h1 class="text-center text-lg font-bold mb-4">Aktivasi Tiket</h1>
      <form
        id="ticket-activation"
        class="max-w-screen-md w-full mx-auto rounded-lg flex flex-col gap-4"
      >
        <div>
          <div class="relative w-full">
            <div class="mb-2">
              <label for="event-id" class="block text-sm font-medium text-gray-900 dark:text-white"
                >ID Event
              </label>
            </div>
            <div class="flex">
              <input
                type="text"
                id="event-id"
                class="!rounded-e-none"
                required
                placeholder="Masukan ID Event"
                autocomplete="off"
              />
              <button
                type="button"
                class="!rounded-s-none"
                title="Kunci ID Event"
                onclick="lockEventIdInput()"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="w-5 h-5 text-white"
                  viewBox="0 0 256 256"
                >
                  <path
                    fill="currentColor"
                    d="M208 80h-32V56a48 48 0 0 0-96 0v24H48a16 16 0 0 0-16 16v112a16 16 0 0 0 16 16h160a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16m-72 78.63V184a8 8 0 0 1-16 0v-25.37a24 24 0 1 1 16 0M160 80H96V56a32 32 0 0 1 64 0Z"
                  />
                </svg>
              </button>
            </div>
            <ul id="event-suggestion" class="suggestion-box hidden"></ul>
          </div>
        </div>
        <div>
          <div class="mb-2">
            <label for="ticket-id" class="block text-sm font-medium text-gray-900 dark:text-white">
              ID Tiket
            </label>
          </div>
          <div class="flex">
            <input
              type="text"
              id="ticket-id"
              class="!rounded-e-none"
              required
              placeholder="Masukan ID Tiket"
              autocomplete="off"
            />
            <button
              type="button"
              class="!rounded-s-none"
              onclick="startScanByCam()"
              title="Buka scanner"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5 text-white"
                viewBox="0 0 256 256"
              >
                <path
                  fill="currentColor"
                  d="M208 56h-27.72l-13.63-20.44A8 8 0 0 0 160 32H96a8 8 0 0 0-6.65 3.56L75.71 56H48a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h160a24 24 0 0 0 24-24V80a24 24 0 0 0-24-24m-44 76a36 36 0 1 1-36-36a36 36 0 0 1 36 36"
                />
              </svg>
            </button>
          </div>
        </div>
        <button type="submit">Aktivasi</button>
      </form>
    </div>
    <div class="bg-white w-full overflow-hidden rounded-lg shadow-sm">
      <div id="reader" class="max-w-screen-md w-full mx-auto"></div>
    </div>
    <div class="bg-white w-full overflow-hidden rounded-lg shadow-sm p-6">
      <header class="flex justify-between items-center mb-4">
        <h2 class="text-gray-700 text-lg font-bold">Aktivasi Tiket Terbaru</h2>
        <button type="button" onclick="loadLatestTicketData()">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" viewBox="0 0 256 256">
            <path
              fill="currentColor"
              d="M228 128a100 100 0 0 1-98.66 100H128a99.39 99.39 0 0 1-68.62-27.29a12 12 0 0 1 16.48-17.45a76 76 0 1 0-1.57-109c-.13.13-.25.25-.39.37L54.89 92H72a12 12 0 0 1 0 24H24a12 12 0 0 1-12-12V56a12 12 0 0 1 24 0v20.72l21.48-19.66A100 100 0 0 1 228 128"
            />
          </svg>
        </button>
      </header>
      <div class="overflow-hidden">
        <div class="overflow-x-auto">
          <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
            <thead
              class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"
            >
              <tr>
                <th scope="col" class="px-4 py-3">Tiket ID</th>
                <th scope="col" class="px-4 py-3">Kategori</th>
                <th scope="col" class="px-4 py-3">Pelanggan</th>
                <th scope="col" class="px-4 py-3">Event</th>
                <th scope="col" class="px-4 py-3">Tanggal Aktivasi</th>
              </tr>
            </thead>
            <tbody id="ticket-list-activation">
              <tr class="border-b dark:border-gray-700">
                <td class="px-4 py-3 text-center" colspan="5">No Data!</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</main>
<script src="/script/packages/html5-qrcode.min.js"></script>
<script src="/script/dashboard/offline/suggestion-box.js"></script>
<script src="/script/vendor-dashboard/tickets/ticket-activation.js"></script>
